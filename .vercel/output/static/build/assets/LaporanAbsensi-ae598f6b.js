import{r as t,j as e}from"./app-df35aaf5.js";import{L as N}from"./Layout-af7b5ed3.js";import{R as v}from"./react-paginate-216f81d2.js";import"./id-50c09ee7.js";import"./transition-73bc14cb.js";function w({data_modal:a}){const[r,x]=t.useState(""),[n,u]=t.useState(""),[d,h]=t.useState([]);t.useEffect(()=>{const s=new Date().getFullYear(),o=[];for(let i=s;i>s-5;i--)o.push(i.toString());h(o),u(s.toString())},[]);const m=[{value:"gasal",label:"Semester Gasal 1/6"},{value:"genap",label:"Semester Genap 7/12"}],f=s=>{x(s.target.value)},b=s=>{u(s.target.value)};return e.jsx("dialog",{id:"my_modal_1",className:"modal backdrop-blur-sm",children:e.jsxs("div",{className:"modal-box w-full max-w-1xl overflow",children:[e.jsx("div",{className:" absolute top-0 right-0",children:e.jsx("button",{onClick:()=>window.my_modal_1.close(),className:"btn-close text-2xl btn bg-transparent border-none","aria-label":"close modal",children:"X"})}),e.jsxs("div",{className:" w-full flex flex-col gap-5",children:[e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-500",children:"Cetak Laporan"})}),e.jsxs("div",{className:"flex flex-row gap-5",children:[e.jsxs("select",{value:r,onChange:f,required:!0,className:"px-3 py-2 w-full rounded-md bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",disabled:!0,children:"Pilih Semester"}),m.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),e.jsxs("select",{value:n,onChange:b,required:!0,className:"px-3 py-2  w-full rounded-md bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",disabled:!0,children:"Pilih Tahun"}),d.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsx("button",{className:"btn bg-blue-500 text-white rounded-md px-3 py-2 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!r||!n,onClick:()=>{window.open(`${window.location.origin}/kurikulum/laporan-absensi/cetak-laporan?semester=${r}&tahun=${n}&uuid=${a.guru.uuid}`,"_blank")},children:"Cetak Laporan"})]})]})})}function P({data_presensi:a}){const[r,x]=t.useState([]),[n,u]=t.useState(0),[d,h]=t.useState([]),[m,f]=t.useState(0),[b,s]=t.useState(!1),[o,i]=t.useState(5);t.useEffect(()=>{s(!0);const l=parseInt(n)+parseInt(o),c=a==null?void 0:a.sort((p,j)=>new Date(j.guru.nuptk)-new Date(p.guru.nuptk)).slice(n,l);h(c),f(Math.ceil((a==null?void 0:a.length)/o)),s(!1)},[n,a,o]);const g=l=>{window.scrollTo({top:0,behavior:"smooth"});const c=l.selected*o%(a==null?void 0:a.length);u(c)};return e.jsxs(N,{children:[r&&e.jsx(w,{data_modal:r}),e.jsx("div",{className:"bg-white flex flex-col gap-10 rounded-xl shadow-lg relative",children:e.jsxs("div",{className:"overflow-x-auto ",children:[e.jsx("div",{className:"bg-white w-full h-[6rem] rounded-t-md ",children:e.jsx("div",{className:"w-full t-0 px-5 -mt-5 absolute",children:e.jsx("div",{className:"bg-violet-400/80 w-full rounded-md shadow-md h-[6rem] flex flex-row gap-2 justify-between items-center px-5",children:e.jsx("div",{className:"flex flex-row items-center justify-between w-full relative",children:e.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[e.jsx("h1",{className:"font-extrabold text-blue-900 text-lg",children:"Daftar data"}),e.jsx("p",{className:"font-extrabold text-white text-md",children:"SMPN XYZ"})]})})})})}),e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"font-bold text-lg text-black",children:[e.jsx("th",{children:"NUPTK"}),e.jsx("th",{children:"Nama"}),e.jsx("th",{children:"Kelas"}),e.jsx("th",{children:"No Telp"}),e.jsx("th",{children:"Alamat"}),e.jsx("th",{children:"Action"})]})}),d==null?void 0:d.map((l,c)=>e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("div",{className:"font-bold",children:l==null?void 0:l.guru.nuptk})}),e.jsx("td",{children:e.jsx("div",{className:"font-bold",children:l==null?void 0:l.guru.user.name})}),e.jsx("td",{children:e.jsx("div",{className:"font-bold",children:l==null?void 0:l.guru.kelas.kelas})}),e.jsx("td",{children:e.jsx("div",{className:"font-bold",children:l==null?void 0:l.guru.telp})}),e.jsx("td",{children:e.jsx("div",{className:"font-bold max-w-[15rem] truncate",children:l==null?void 0:l.guru.alamat})}),e.jsx("th",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>{x(l),window.my_modal_1.show()},className:"btn btn-ghost btn-md ",children:e.jsx("i",{className:"text-blue-500 text-xl fas fa-print"})})})]})},c))]}),e.jsx("div",{className:"flex justify-normal items-center py-5",children:e.jsx(v,{className:"flex flex-row gap-1 w-full justify-end items-center select-none pr-10",nextLabel:">",onPageChange:g,pageRangeDisplayed:2,marginPagesDisplayed:1,pageCount:m,previousLabel:"<",pageClassName:" text-sm border  p-2 rounded-md ",pageLinkClassName:" rounded-md  px-2 py-2 font-semibold font-roboto",previousClassName:" p-2 rounded-md text-blue-800 hover:scale-125 hover:scale text-xl",previousLinkClassName:"text-xl p-2  font-semibold font-roboto",nextClassName:" p-2 rounded-md text-blue-800 hover:scale-125 hover:scale text-xl",nextLinkClassName:"text-xl p-2  font-semibold font-roboto ",breakLabel:"...",breakClassName:" p-2 rounded-md text-blue-800",breakLinkClassName:"text-sm font-semibold font-roboto ",containerClassName:"pagination",activeClassName:"bg-transparan border border-blue-800 text-blue-800"})})]})})]})}export{P as default};
