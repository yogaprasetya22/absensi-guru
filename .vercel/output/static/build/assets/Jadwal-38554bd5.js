import{q as N,W as j,j as e,r as o}from"./app-df35aaf5.js";import{T as v,I as f}from"./TextInput-72aa7d32.js";import{I as h}from"./InputLabel-294c493e.js";import{L as k}from"./Layout-af7b5ed3.js";import{R as w}from"./react-paginate-216f81d2.js";import{m as y}from"./id-50c09ee7.js";import"./transition-73bc14cb.js";function C(){const{props:s}=N(),{data:n,setData:i,post:r,processing:x,errors:c,reset:m}=j({kurikulum_uuid:s.uuid.uuid,kelas_id:"",tanggal:""}),u=a=>{a.preventDefault(),r(route("jadwal.store"),{onSuccess:()=>window.my_modal_1.close(),onError:t=>{console.log(t)}})};return e.jsx("dialog",{id:"my_modal_1",className:"modal backdrop-blur-sm",children:e.jsxs("div",{className:"modal-box w-11/12 max-w-5xl overflow",children:[e.jsx("div",{className:" absolute top-0 right-0",children:e.jsx("button",{onClick:()=>window.my_modal_1.close(),className:"btn-close text-2xl btn bg-transparent border-none","aria-label":"close modal",children:"X"})}),e.jsxs("div",{className:" w-full flex flex-col gap-5",children:[e.jsx("div",{className:"w-full flex flex-row justify-center items-center",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-500",children:"Add Jadwal"})}),e.jsxs("form",{className:"flex flex-col gap-5",onSubmit:u,children:[e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsx(h,{htmlFor:"tanggal",value:"Tanggal"}),e.jsx(v,{id:"tanggal",type:"date",name:"tanggal",value:n.tanggal,className:"mt-1 block w-full",autoComplete:"tanggal",isFocused:!0,onChange:a=>i("tanggal",a.target.value)}),e.jsx(f,{message:c.tanggal,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsx(h,{htmlFor:"kelas_id",value:"kelas_id"}),e.jsxs("select",{id:"kelas_id",name:"kelas_id",value:n.kelas_id,onChange:a=>i("kelas_id",a.target.value),className:"mt-1 block w-full",children:[e.jsx("option",{value:"",disabled:!0,children:"Pilih Kelas"}),s.kelas.map((a,t)=>e.jsx("option",{value:a.id,children:a.kelas},t))]}),e.jsx(f,{message:c.kelas_id,className:"mt-2"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"btn bg-violet-600/80 text-white",children:"Add"})})]})]})]})})}function E({jadwal:s}){const[n,i]=o.useState(0),[r,x]=o.useState([]),[c,m]=o.useState(0),[u,a]=o.useState(!1),[t,_]=o.useState(5);o.useEffect(()=>{a(!0);const l=parseInt(n)+parseInt(t),d=s==null?void 0:s.sort((b,p)=>b.id-p.id).slice(n,l);x(d),m(Math.ceil((s==null?void 0:s.length)/t)),a(!1)},[n,s,t]);const g=l=>{window.scrollTo({top:0,behavior:"smooth"});const d=l.selected*t%(s==null?void 0:s.length);i(d)};return e.jsxs(k,{children:[e.jsx(C,{}),e.jsx("div",{className:"bg-white flex flex-col gap-10 rounded-xl shadow-lg relative",children:e.jsxs("div",{className:"overflow-x-auto ",children:[e.jsx("div",{className:"bg-white w-full h-[6rem] rounded-t-md ",children:e.jsx("div",{className:"w-full t-0 px-5 -mt-5 absolute",children:e.jsxs("div",{className:"bg-violet-400/80 w-full rounded-md shadow-md h-[6rem] flex flex-row gap-2 justify-between items-center px-5",children:[e.jsx("div",{className:"flex flex-row items-center justify-between w-full relative",children:e.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[e.jsx("h1",{className:"font-extrabold text-blue-900 text-lg",children:"Daftar data"}),e.jsx("p",{className:"font-extrabold text-white text-md",children:"SMPN XYZ"})]})}),e.jsx("div",{className:"flex flex-row items-center gap-2",children:e.jsx("div",{className:"flex items-center gap-2 px-5 py-3",children:e.jsxs("button",{className:"btn bg-gray-200/60 text-gray-500 rounded-md",onClick:()=>window.my_modal_1.show(),children:[e.jsx("i",{className:"fas fa-plus"})," Add Jadwal"]})})})]})})}),e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"font-bold text-lg text-black",children:[e.jsx("th",{children:"Kelas"}),e.jsx("th",{children:"Tanggal"}),e.jsx("th",{children:"PIC"}),e.jsx("th",{children:"Action"})]})}),r==null?void 0:r.map((l,d)=>e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("div",{className:"font-bold",children:l==null?void 0:l.kelas.kelas})}),e.jsx("td",{children:e.jsx("div",{className:"font-bold",children:y(l==null?void 0:l.tanggal).locale("id").format("dddd, DD MMMM YYYY")})}),e.jsx("td",{children:e.jsx("div",{className:"font-bold",children:l==null?void 0:l.kurikulum.user.name})}),e.jsxs("th",{className:"flex gap-2",children:[e.jsx("button",{className:"btn btn-ghost btn-md ",children:e.jsx("i",{className:"text-green-500 text-xl fas fa-edit"})}),e.jsx("button",{className:"btn btn-ghost btn-md ",children:e.jsx("i",{className:"text-red-500 text-xl fas fa-trash-alt"})})]})]})},d))]}),e.jsx("div",{className:"flex justify-normal items-center py-5",children:e.jsx(w,{className:"flex flex-row gap-1 w-full justify-end items-center select-none pr-10",nextLabel:">",onPageChange:g,pageRangeDisplayed:2,marginPagesDisplayed:1,pageCount:c,previousLabel:"<",pageClassName:" text-sm border  p-2 rounded-md ",pageLinkClassName:" rounded-md  px-2 py-2 font-semibold font-roboto",previousClassName:" p-2 rounded-md text-blue-800 hover:scale-125 hover:scale text-xl",previousLinkClassName:"text-xl p-2  font-semibold font-roboto",nextClassName:" p-2 rounded-md text-blue-800 hover:scale-125 hover:scale text-xl",nextLinkClassName:"text-xl p-2  font-semibold font-roboto ",breakLabel:"...",breakClassName:" p-2 rounded-md text-blue-800",breakLinkClassName:"text-sm font-semibold font-roboto ",containerClassName:"pagination",activeClassName:"bg-transparan border border-blue-800 text-blue-800"})})]})})]})}export{E as default};
